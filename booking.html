<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hotel Room Booking</title>
</head>
<body>

    <div>
        <!-- Header -->
        <header>
            <h1>Reserve Your Luxury Stay</h1>
            <p>Quickly book your perfect room with a touch of elegance.</p>
        </header>

        <!-- Booking Form -->
        <form id="bookingForm">

            <!-- Confirmation Message Box -->
            <div id="successMessage" style="display:none;">
                <strong>Booking Confirmed!</strong> Your reservation details have been successfully submitted. We look forward to welcoming you!
            </div>

            <!-- Error Message Box -->
            <div id="errorMessage" style="display:none; color:red;">
                <strong>Booking Failed:</strong> Please ensure all fields are correctly filled and the check-out date is after the check-in date.
            </div>

            <!-- Guest Contact Information -->
            <section>
                <h2>Guest Contact Information</h2>
                <div>
                    <label for="fullName">Full Name:</label>
                    <input type="text" id="fullName" name="fullName" placeholder="John Doe" required>
                </div>

                <div>
                    <label for="email">Email Address:</label>
                    <input type="email" id="email" name="email" placeholder="john.doe@example.com" required>
                </div>

                <div>
                    <label for="phone">Phone Number (Optional):</label>
                    <input type="tel" id="phone" name="phone" placeholder="(555) 123-4567">
                </div>
            </section>

            <!-- Reservation Details -->
            <section>
                <h2>Reservation Details</h2>

                <div>
                    <label for="checkInDate">Check-in Date:</label>
                    <input type="date" id="checkInDate" name="checkInDate" required>
                </div>

                <div>
                    <label for="checkOutDate">Check-out Date:</label>
                    <input type="date" id="checkOutDate" name="checkOutDate" required>
                </div>

                <div>
                    <label for="guests">Number of Guests:</label>
                    <input type="number" id="guests" name="guests" min="1" max="6" value="1" required>
                </div>

                <div>
                    <label for="roomType">Room Type:</label>
                    <select id="roomType" name="roomType" required>
                        <option value="" disabled selected>Select a room</option>
                        <option value="standard">Standard Double</option>
                        <option value="suite">Executive Suite</option>
                        <option value="deluxe">Deluxe King</option>
                        <option value="family">Family Room</option>
                    </select>
                </div>
            </section>

            <!-- Special Requests -->
            <section>
                <label for="requests">Special Requests (Optional):</label>
                <textarea id="requests" name="requests" rows="3" placeholder="e.g., Feather pillows, high-floor room, late check-in..."></textarea>
            </section>

            <!-- Submit Button -->
            <div>
                <button type="submit">Confirm Reservation</button>
            </div>

        </form>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('bookingForm');
            const checkInDateInput = document.getElementById('checkInDate');
            const checkOutDateInput = document.getElementById('checkOutDate');
            const successMessage = document.getElementById('successMessage');
            const errorMessage = document.getElementById('errorMessage');

            const today = new Date();
            const year = today.getFullYear();
            const month = String(today.getMonth() + 1).padStart(2, '0');
            const day = String(today.getDate()).padStart(2, '0');
            const todayString = `${year}-${month}-${day}`;
            checkInDateInput.min = todayString;
            checkOutDateInput.min = todayString;

            checkInDateInput.addEventListener('change', () => {
                const checkInDate = new Date(checkInDateInput.value);
                if (!checkInDateInput.value) {
                    checkOutDateInput.min = todayString;
                    return;
                }
                checkInDate.setDate(checkInDate.getDate() + 1);

                const minCheckoutYear = checkInDate.getFullYear();
                const minCheckoutMonth = String(checkInDate.getMonth() + 1).padStart(2, '0');
                const minCheckoutDay = String(checkInDate.getDate()).padStart(2, '0');
                const minCheckoutDateString = `${minCheckoutYear}-${minCheckoutMonth}-${minCheckoutDay}`;

                checkOutDateInput.min = minCheckoutDateString;

                if (checkOutDateInput.value && new Date(checkOutDateInput.value) < new Date(minCheckoutDateString)) {
                    checkOutDateInput.value = '';
                }
            });

            form.addEventListener('submit', (e) => {
                e.preventDefault();
                successMessage.style.display = 'none';
                errorMessage.style.display = 'none';

                const checkInDate = new Date(checkInDateInput.value);
                const checkOutDate = new Date(checkOutDateInput.value);

                if (!checkInDateInput.value || !checkOutDateInput.value) {
                    errorMessage.style.display = 'block';
                    errorMessage.textContent = 'Booking Failed: Both check-in and check-out dates are required.';
                    return;
                }

                if (checkOutDate <= checkInDate) {
                    errorMessage.style.display = 'block';
                    errorMessage.textContent = 'Booking Failed: The check-out date must be after the check-in date.';
                    return;
                }

                const formData = new FormData(form);
                const data = Object.fromEntries(formData.entries());

                console.log('--- Booking Data Submitted (Simulated) ---');
                console.log(data);
                console.log('-------------------------------------------');

                successMessage.style.display = 'block';
                form.reset();
                checkOutDateInput.min = todayString;
            });
        });
    </script>
</body>
</html>